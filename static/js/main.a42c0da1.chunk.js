(this["webpackJsonpsoccer-stat"]=this["webpackJsonpsoccer-stat"]||[]).push([[0],{10:function(e,t,a){e.exports={content:"ListPage_content___-c9K",clubImg:"ListPage_clubImg__WQIU3",smallCountryFlag:"ListPage_smallCountryFlag__1HDdg",listItemText:"ListPage_listItemText__2ViWO"}},17:function(e,t,a){e.exports={dateInput:"DateFilterInput_dateInput__1t7Mn",searchButton:"DateFilterInput_searchButton__1vzzT"}},20:function(e,t,a){e.exports={appWrapper:"App_appWrapper__1XUBs",content:"App_content__3Bhhd"}},23:function(e,t,a){e.exports={header:"Header_header__nNC2p",home:"Header_home__3fn7J"}},24:function(e,t,a){e.exports={searchInput:"SearchForm_searchInput__WG_a9",searchButton:"SearchForm_searchButton__1Vsu5"}},34:function(e,t,a){e.exports={pageLink:"Pages_pageLink__2NnEH",active:"Pages_active__1yb5I"}},35:function(e,t,a){e.exports={link:"LinkButton_link__SsSCo"}},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(15),s=a.n(n),i=(a(40),a(3)),r=a(20),l=a.n(r),o=a(2),u=a(9),m=a(11),d=a.n(m),h=function(){return new URLSearchParams(Object(i.h)().search)},j=a(13),O=Object(j.b)({name:"calendar",initialState:{matchesData:[],numOfMatches:null,isFetching:!1},reducers:{setIsFetching:function(e,t){e.isFetching=t.payload},setMatchesData:function(e,t){e.matchesData=t.payload,e.numOfMatches=t.payload.length}}}),b=O.actions,p=b.setMatchesData,f=b.setIsFetching,x=O.reducer,g=a(0),T=function(e){return Object(g.jsx)("div",{children:e.message})},_=a(4),v=a(34),S=a.n(v),E=function(e){for(var t=h(),a=Object(i.h)(),c=[],n=1;n<=Math.ceil(e.numOfItems/e.itemsOnPage);++n)t.set("page",n),c.push(Object(g.jsx)("span",{className:S.a.pageLink,children:Object(g.jsxs)(_.c,{to:a.pathname+"?"+t.toString(),children:[n," "]})}));return Object(g.jsx)("div",{children:c})},D=function(e){var t=h().get("page"),a=Object(o.c)(function(e){return function(t){return(t=t.calendar).matchesData.filter((function(t,a){return a>=20*(e-1)&&a<20*e}))}}(t)).map((function(t){return Object(g.jsx)(e.calendarItem,{match:t},t.id)}));return Object(g.jsx)("div",{children:a})},I=a(8),y=a.n(I),C=function(e){return Object(g.jsxs)("div",{className:y.a.item,children:[Object(g.jsxs)("div",{className:y.a.text,children:[e.match.homeTeam.name," vs ",e.match.awayTeam.name]}),Object(g.jsxs)("div",{className:y.a.text,children:["start: ",e.match.utcDate]}),Object(g.jsxs)("div",{className:y.a.scores,children:[Object(g.jsxs)("span",{children:[null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.awayTeam,":",null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.awayTeam,":",null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.awayTeam,":",null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.awayTeam,":",null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.awayTeam]})]})]})},F=function(e){var t=Object(c.useState)(null),a=Object(u.a)(t,2),n=a[0],s=a[1],r=h(),l=r.get("dateFrom"),m=r.get("dateTo"),j=Object(i.i)().leagueId,O=Object(o.c)((function(e){return e.calendar.numOfMatches})),b=Object(o.b)();return Object(c.useEffect)((function(){b(f(!0)),d.a.get("http://api.football-data.org/v2/competitions/".concat(j,"/matches")+(r.get("dateFrom")?"?dateFrom=".concat(r.get("dateFrom"),"&dateTo=").concat(r.get("dateTo")):""),{headers:{"X-Auth-Token":Object({NODE_ENV:"production",PUBLIC_URL:"/soccer-stat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CODE}}).then((function(e){b(p(e.data.matches))}),(function(e){s(e.response.status)})).finally((function(){b(f(!1))}))}),[l,m]),n?Object(g.jsx)(T,{message:"This content is not available"}):e.isFetching?null:Object(g.jsxs)("div",{children:["HERE IS A LEAGUE CALENDAR",Object(g.jsx)(E,{numOfItems:O,itemsOnPage:20}),Object(g.jsx)(D,{calendarItem:C})]})},R=function(e){return Object(g.jsxs)("div",{className:y.a.item,children:[Object(g.jsxs)("div",{className:y.a.text,children:[e.match.homeTeam.name," vs ",e.match.awayTeam.name]}),Object(g.jsxs)("div",{className:y.a.text,children:[Object(g.jsx)("img",{src:e.match.competition.area.ensignUrl}),e.match.competition.name]}),Object(g.jsxs)("div",{className:y.a.text,children:["start: ",e.match.utcDate]}),Object(g.jsxs)("div",{className:y.a.scores,children:[Object(g.jsxs)("span",{children:[null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.awayTeam,":",null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.awayTeam,":",null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.awayTeam,":",null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.awayTeam]}),"  ",Object(g.jsxs)("span",{children:[null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.awayTeam,":",null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.awayTeam]})]})]})},N=function(e){var t=h(),a=t.get("dateFrom"),n=t.get("dateTo"),s=Object(i.i)().teamId,r=Object(o.b)(),l=Object(o.c)((function(e){return e.calendar.numOfMatches}));return Object(c.useEffect)((function(){r(f(!0)),d.a.get("http://api.football-data.org/v2/teams/".concat(s,"/matches")+(a?"?dateFrom=".concat(a,"&dateTo=").concat(n):""),{headers:{"X-Auth-Token":Object({NODE_ENV:"production",PUBLIC_URL:"/soccer-stat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CODE}}).then((function(e){r(p(e.data.matches))})).finally((function(){r(f(!1))}))}),[a,n]),e.isFetching?null:Object(g.jsxs)("div",{children:["HERE IS A TEAM CALENDAR",Object(g.jsx)(E,{numOfItems:l,itemsOnPage:20}),Object(g.jsx)(D,{calendarItem:R})]})},P=a(17),L=a.n(P),A=a.p+"static/media/searchIcon.a1622a47.png",w=function(e){var t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),l=Object(u.a)(r,2),o=l[0],m=l[1],d=Object(i.g)();return Object(g.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;n?t.append("dateFrom",n):t.delete("dateFrom"),o?t.append("dateTo",o):t.delete("dateTo"),t.append("page",1),d.push({search:t.toString()}),e.preventDefault()},children:[Object(g.jsx)("span",{children:Object(g.jsx)("input",{type:"text",value:n,onChange:function(e){s(e.target.value)},pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d",placeholder:"YYYY-MM-DD",disabled:e.disabled,className:L.a.dateInput})}),Object(g.jsx)("span",{children:Object(g.jsx)("input",{type:"text",value:o,onChange:function(e){m(e.target.value)},pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d",placeholder:"YYYY-MM-DD",disabled:e.disabled,className:L.a.dateInput})}),Object(g.jsx)("span",{children:Object(g.jsx)("button",{type:"submit",disabled:e.disabled,className:L.a.searchButton,children:Object(g.jsx)("img",{src:A})})})]})},H=function(){var e=Object(o.c)((function(e){return e.calendar.isFetching}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(w,{disabled:e}),Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/calendar/team/:teamId",children:Object(g.jsx)(N,{isFetching:e})}),Object(g.jsx)(i.b,{exact:!0,path:"/calendar/league/:leagueId",children:Object(g.jsx)(F,{isFetching:e})})]})]})},W=a(23),U=a.n(W),B=function(){return Object(g.jsx)("header",{className:U.a.header,children:Object(g.jsx)(_.b,{className:U.a.home,to:"/",children:"Home"})})},K=a(10),k=a.n(K),M=Object(j.b)({name:"list",initialState:{leaguesData:[],teamsData:[],leaguesSearchResult:[],teamsSearchResult:[],numOfLeagues:null,numOfTeams:null,isFetching:!1},reducers:{setIsFetching:function(e,t){e.isFetching=t.payload},setLeaguesData:function(e,t){e.leaguesData=t.payload},setTeamsData:function(e,t){e.teamsData=t.payload},setLeaguesSearchResult:function(e,t){e.leaguesSearchResult=t.payload?e.leaguesData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.leaguesData,e.numOfLeagues=e.leaguesSearchResult.length},setTeamsSearchResult:function(e,t){e.teamsSearchResult=t.payload?e.teamsData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.teamsData,e.numOfTeams=e.teamsSearchResult.length}}}),Y=M.actions,V=Y.setLeaguesData,G=Y.setTeamsData,X=Y.setLeaguesSearchResult,J=Y.setTeamsSearchResult,z=Y.setIsFetching,q=M.reducer,Q=a(35),Z=a.n(Q),$=function(e){return Object(g.jsx)("span",{className:Z.a.link,children:Object(g.jsx)(_.b,{to:e.to,children:e.text})})},ee=function(e){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:k.a.smallCountryFlag,children:Object(g.jsx)("img",{src:e.league.area.ensignUrl})}),Object(g.jsxs)("span",{className:k.a.listItemText,children:[e.league.area.name," |"]}),Object(g.jsxs)("span",{className:k.a.listItemText,children:[" ",e.league.name]})]}),Object(g.jsx)($,{to:"/leagues/".concat(e.league.id,"?page=1"),text:"Go To Teams"}),Object(g.jsx)($,{to:"/calendar/league/".concat(e.league.id,"?page=1"),text:"Go To Calendar"})]})},te=function(e){var t,a=h(),n=a.get("search"),s=Object(o.c)((t=a.get("page"),function(e){return(e=e.list).leaguesSearchResult.filter((function(e,a){return a>=20*(t-1)&&a<20*t}))})),i=Object(o.c)((function(e){return e.list.numOfLeagues})),r=Object(o.b)(),l=s.map((function(e){return Object(g.jsx)(ee,{league:e},e.id)}));return Object(c.useEffect)((function(){r(z(!0)),d.a.get("http://api.football-data.org/v2/competitions",{headers:{"X-Auth-Token":Object({NODE_ENV:"production",PUBLIC_URL:"/soccer-stat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CODE}}).then((function(e){r(V(e.data.competitions)),r(X(n))})).finally((function(){return r(z(!1))}))}),[]),Object(c.useEffect)((function(){r(X(n))}),[n]),e.isFetching?null:Object(g.jsxs)("div",{children:[Object(g.jsx)(E,{numOfItems:i,itemsOnPage:20}),Object(g.jsx)("div",{children:l})]})},ae=a(24),ce=a.n(ae),ne=function(e){var t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],s=a[1],r=Object(i.g)();return Object(g.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;n?t.append("search",n):t.delete("search"),t.append("page",1),r.push({search:t.toString()}),e.preventDefault(),s("")},children:[Object(g.jsx)("span",{children:Object(g.jsx)("input",{disabled:e.disabled,className:ce.a.searchInput,type:"text",value:n,onChange:function(e){s(e.target.value)}})}),Object(g.jsx)("span",{children:Object(g.jsx)("button",{disabled:e.disabled,className:ce.a.searchButton,type:"submit",children:Object(g.jsx)("img",{src:A})})})]})},se=function(e){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:k.a.clubImg,children:Object(g.jsx)("img",{src:e.team.crestUrl})}),Object(g.jsx)("span",{className:k.a.listItemText,children:e.team.name})]}),Object(g.jsx)("div",{children:Object(g.jsx)($,{to:"/calendar/team/".concat(e.team.id,"?page=1"),text:"Go To Calendar"})})]})},ie=function(e){var t,a=Object(c.useState)(null),n=Object(u.a)(a,2),s=n[0],r=n[1],l=h(),m=l.get("search"),j=Object(i.i)().leagueId,O=Object(o.c)((t=l.get("page"),function(e){return(e=e.list).teamsSearchResult.filter((function(e,a){return a>=20*(t-1)&&a<20*t}))})),b=Object(o.c)((function(e){return e.list.numOfTeams})),p=Object(o.b)(),f=O.map((function(e){return Object(g.jsx)(se,{team:e},e.id)}));return Object(c.useEffect)((function(){p(z(!0)),d.a.get("http://api.football-data.org/v2/competitions/".concat(j,"/teams"),{headers:{"X-Auth-Token":Object({NODE_ENV:"production",PUBLIC_URL:"/soccer-stat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CODE}}).then((function(e){p(G(e.data.teams)),p(J(m))}),(function(e){r(e.response.status)})).finally((function(){return p(z(!1))}))}),[]),Object(c.useEffect)((function(){p(J(m))}),[m]),s?Object(g.jsx)(T,{message:"This content is not available"}):e.isFetching?null:Object(g.jsxs)("div",{children:[Object(g.jsx)(E,{numOfItems:b,itemsOnPage:20}),Object(g.jsx)("div",{children:f})]})},re=function(){var e=Object(o.c)((function(e){return e.list.isFetching}));return Object(g.jsxs)("div",{className:k.a.content,children:[Object(g.jsx)(ne,{disabled:e}),Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{path:"/leagues/:leagueId",children:Object(g.jsx)(ie,{isFetching:e})}),Object(g.jsx)(i.b,{path:"/leagues",children:Object(g.jsx)(te,{isFetching:e})})]})]})};var le=function(){return Object(g.jsxs)("div",{className:l.a.appWrapper,children:[Object(g.jsx)(B,{}),Object(g.jsx)("div",{className:l.a.content,children:Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{path:"/leagues",children:Object(g.jsx)(re,{})}),Object(g.jsx)(i.b,{path:"/calendar",children:Object(g.jsx)(H,{})}),Object(g.jsx)(i.b,{path:"/",children:Object(g.jsx)(i.a,{to:"/leagues?page=1"})})]})})]})},oe=Object(j.a)({reducer:{list:q,calendar:x}});s.a.render(Object(g.jsx)(_.a,{children:Object(g.jsx)(o.a,{store:oe,children:Object(g.jsx)(le,{})})}),document.getElementById("root"))},8:function(e,t,a){e.exports={text:"CalendarItem_text__HDnlY",item:"CalendarItem_item__2yZET",scores:"CalendarItem_scores__3nqKe"}}},[[65,1,2]]]);
//# sourceMappingURL=main.a42c0da1.chunk.js.map