(this["webpackJsonpsoccer-stat"]=this["webpackJsonpsoccer-stat"]||[]).push([[0],{13:function(e,t,a){e.exports={dateInput:"DateFilterInput_dateInput__2Aqpw",searchButton:"DateFilterInput_searchButton__1vvAh",label:"DateFilterInput_label__Kj7Ea"}},17:function(e,t,a){e.exports={header:"Header_header__1CXdc",navlink:"Header_navlink__3ecwl"}},20:function(e,t,a){e.exports={appWrapper:"App_appWrapper__3hNN-",content:"App_content__2P9vh"}},23:function(e,t,a){e.exports={textContainer:"HomePage_textContainer__33fPg",pagesList:"HomePage_pagesList__1w6Yt"}},24:function(e,t,a){e.exports={searchInput:"SearchForm_searchInput__1_j5H",searchButton:"SearchForm_searchButton__1mOKM"}},35:function(e,t,a){e.exports={errorText:"ErrorPage_errorText__2l6o6"}},36:function(e,t,a){e.exports={pageLink:"Pages_pageLink__2HNlL",active:"Pages_active__1dW8t"}},37:function(e,t,a){e.exports={link:"LinkButton_link__Ri19x"}},42:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(15),s=a.n(c),i=(a(42),a(2)),r=a(20),l=a.n(r),m=a(3),u=a(10),o=a(34),j=a.n(o).a.create({baseURL:"https://api.football-data.org/v2/",headers:{"X-Auth-Token":"0f1b50892a8549beb5d3320a2987951e"}}),h=function(){return new URLSearchParams(Object(i.h)().search)},d=a(12),b=Object(d.b)({name:"calendar",initialState:{matchesData:[],numOfMatches:null,isFetching:!1},reducers:{setIsFetching:function(e,t){e.isFetching=t.payload},setMatchesData:function(e,t){e.matchesData=t.payload,e.numOfMatches=t.payload.length}}}),O=b.actions,x=O.setMatchesData,p=O.setIsFetching,f=b.reducer,g=a(35),T=a.n(g),_=a(0),v=function(e){return Object(_.jsx)("div",{className:T.a.errorText,children:e.message})},y=a(4),I=a(36),w=a.n(I),N=function(e){for(var t=h(),a=Object(i.h)(),n=[],c=1;c<=Math.ceil(e.numOfItems/e.itemsOnPage);++c)t.set("page",c),n.push(Object(_.jsx)("span",{className:w.a.pageLink,children:Object(_.jsxs)(y.c,{to:a.pathname+"?"+t.toString(),children:[c," "]})}));return Object(_.jsx)("div",{children:n})},F=function(e){var t,a=Object(n.useState)(!1),c=Object(u.a)(a,2),s=c[0],i=c[1],r=h(),l=Object(m.c)((t=r.get("page"),function(e){return(e=e.calendar).matchesData.filter((function(e,a){return a>=20*(t-1)&&a<20*t}))})),o=r.get("dateFrom"),d=r.get("dateTo"),b=Object(m.b)(),O=Object(m.c)((function(e){return e.calendar.numOfMatches}));Object(n.useEffect)((function(){b(p(!0)),function(e,t,a){return j.get(e,{params:{dateFrom:t,dateTo:a}}).then((function(e){return e.data}))}(e.url,o,d).then((function(e){b(x(e.matches)),i(!1)}),(function(e){i(!0)})).finally((function(){b(p(!1))}))}),[o,d]);var f=l.map((function(t){return Object(_.jsx)(e.item,{match:t},t.id)}));return e.isFetching?null:s?Object(_.jsx)(v,{message:"Unable to load data"}):Object(_.jsxs)("div",{children:[Object(_.jsx)(N,{numOfItems:O,itemsOnPage:20}),Object(_.jsx)("div",{children:f})]})},S=a(7),D=a.n(S),L=function(e){var t=e.match.score;return Object(_.jsxs)("div",{className:D.a.item,children:[Object(_.jsxs)("div",{className:D.a.text,children:[e.match.homeTeam.name," ",Object(_.jsxs)("span",{className:D.a.mainScore,children:[t.fullTime.homeTeam+t.extraTime.homeTeam,":",t.fullTime.awayTeam+t.extraTime.awayTeam]})," ",e.match.awayTeam.name]}),Object(_.jsxs)("div",{className:D.a.text,children:["start: ",e.match.utcDate]}),Object(_.jsxs)("div",{className:D.a.scores,children:[Object(_.jsxs)("span",{children:[null===t.halfTime.homeTeam?"-":t.halfTime.homeTeam,":",null===t.halfTime.awayTeam?"-":t.halfTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===t.fullTime.homeTeam?"-":t.fullTime.homeTeam,":",null===t.fullTime.awayTeam?"-":t.fullTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===t.extraTime.homeTeam?"-":t.extraTime.homeTeam,":",null===t.extraTime.awayTeam?"-":t.extraTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===t.penalties.homeTeam?"-":t.penalties.homeTeam,":",null===t.penalties.awayTeam?"-":t.penalties.awayTeam]})]})]})},C=function(e){var t,a,n=e.match.score;return Object(_.jsxs)("div",{className:D.a.item,children:[Object(_.jsxs)("div",{className:D.a.text,children:[e.match.homeTeam.name," ",Object(_.jsxs)("span",{className:D.a.mainScore,children:[n.fullTime.homeTeam+n.extraTime.homeTeam,":",n.fullTime.awayTeam+n.extraTime.awayTeam]})," ",e.match.awayTeam.name]}),Object(_.jsxs)("div",{className:D.a.text,children:[Object(_.jsx)("img",{src:null===(t=e.match.competition)||void 0===t?void 0:t.area.ensignUrl}),null===(a=e.match.competition)||void 0===a?void 0:a.name]}),Object(_.jsxs)("div",{className:D.a.text,children:["start: ",e.match.utcDate]}),Object(_.jsxs)("div",{className:D.a.scores,children:[Object(_.jsxs)("span",{children:[null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.homeTeam,":",null===e.match.score.halfTime.awayTeam?"-":e.match.score.halfTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.homeTeam,":",null===e.match.score.fullTime.awayTeam?"-":e.match.score.fullTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.homeTeam,":",null===e.match.score.extraTime.awayTeam?"-":e.match.score.extraTime.awayTeam]}),"  ",Object(_.jsxs)("span",{children:[null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.homeTeam,":",null===e.match.score.penalties.awayTeam?"-":e.match.score.penalties.awayTeam]})]})]})},P=a(13),R=a.n(P),E=a.p+"static/media/searchIcon.a1622a47.png",k=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),l=Object(u.a)(r,2),m=l[0],o=l[1],j=Object(i.g)();return Object(_.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;c?t.append("dateFrom",c):t.delete("dateFrom"),m?t.append("dateTo",m):t.delete("dateTo"),t.append("page",1),j.push({search:t.toString()}),e.preventDefault()},children:[Object(_.jsxs)("span",{children:[Object(_.jsx)("label",{className:R.a.label,children:"from"}),Object(_.jsx)("input",{type:"text",value:c,onChange:function(e){s(e.target.value)},pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d",placeholder:"YYYY-MM-DD",disabled:e.disabled,className:R.a.dateInput})]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("label",{className:R.a.label,children:"to"}),Object(_.jsx)("input",{type:"text",value:m,onChange:function(e){o(e.target.value)},pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d",placeholder:"YYYY-MM-DD",disabled:e.disabled,className:R.a.dateInput})]}),Object(_.jsx)("span",{children:Object(_.jsx)("button",{type:"submit",disabled:e.disabled,className:R.a.searchButton,children:Object(_.jsx)("img",{src:E})})})]})},M=function(){var e=Object(m.c)((function(e){return e.calendar.isFetching})),t=Object(i.i)(),a=t.teamId,n=t.leagueId;return Object(_.jsxs)("div",{children:[Object(_.jsx)(k,{disabled:e}),Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{path:"/calendar/team",children:Object(_.jsx)(F,{url:"teams/".concat(a,"/matches"),isFetching:e,item:C})}),Object(_.jsx)(i.b,{path:"/calendar/league",children:Object(_.jsx)(F,{url:"competitions/".concat(n,"/matches"),isFetching:e,item:L})})]})]})},U=a(17),Y=a.n(U),A=function(){return Object(_.jsxs)("header",{className:Y.a.header,children:[Object(_.jsx)(y.b,{className:Y.a.navlink,to:"/home",children:"home"}),Object(_.jsx)(y.b,{className:Y.a.navlink,to:"/leagues?page=1",children:"leagues"})]})},B=a(23),H=a.n(B),K=function(){return Object(_.jsxs)("div",{className:H.a.textContainer,children:[Object(_.jsx)("h2",{children:"This app uses free API: https://www.football-data.org/"}),Object(_.jsxs)("div",{className:H.a.pagesList,children:[Object(_.jsx)("h3",{children:"Available pages:"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:"list of leagues"}),Object(_.jsx)("li",{children:"list of league`s teams"}),Object(_.jsx)("li",{children:"league`s calendar"}),Object(_.jsx)("li",{children:"team`s calendar"})]})]}),Object(_.jsx)("h3",{children:"Available server requests 10 per minute, so if you see load error, wait 1 minute"})]})},W=a(9),q=a.n(W),G=Object(d.b)({name:"list",initialState:{leaguesData:[],teamsData:[],leaguesSearchResult:[],teamsSearchResult:[],numOfLeagues:null,numOfTeams:null,isFetching:!1,fetchingError:!1},reducers:{setFetchingError:function(e,t){e.fetchingError=t.payload},setIsFetching:function(e,t){e.isFetching=t.payload},setLeaguesData:function(e,t){e.leaguesData=t.payload},setTeamsData:function(e,t){e.teamsData=t.payload},setLeaguesSearchResult:function(e,t){e.leaguesSearchResult=t.payload?e.leaguesData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.leaguesData,e.numOfLeagues=e.leaguesSearchResult.length},setTeamsSearchResult:function(e,t){e.teamsSearchResult=t.payload?e.teamsData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.teamsData,e.numOfTeams=e.teamsSearchResult.length}}}),J=G.actions,X=J.setLeaguesData,Q=J.setTeamsData,z=J.setLeaguesSearchResult,V=J.setTeamsSearchResult,Z=J.setIsFetching,$=J.setFetchingError,ee=function(){return function(e,t){e(Z(!0)),j.get("competitions",{params:{plan:"TIER_ONE"}}).then((function(e){return e.data})).then((function(t){e(X(t.competitions)),e($(!1))}),(function(t){e($(!0))})).finally((function(){e(Z(!1))}))}},te=function(e){return function(t,a){t(Z(!0)),function(e){return j.get("competitions/".concat(e,"/teams")).then((function(e){return e.data}))}(e).then((function(e){t(Q(e.teams)),t($(!1))}),(function(e){t($(!0))})).finally((function(){return t(Z(!1))}))}},ae=function(e,t,a){return e.filter((function(e,n){return n>=(t-1)*a&&n<t*a}))},ne=G.reducer,ce=a(37),se=a.n(ce),ie=function(e){return Object(_.jsx)("span",{className:se.a.link,children:Object(_.jsx)(y.b,{to:e.to,children:e.text})})},re=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:q.a.smallCountryFlag,children:Object(_.jsx)("img",{src:e.league.area.ensignUrl})}),Object(_.jsxs)("span",{className:q.a.listItemText,children:[e.league.area.name," |"]}),Object(_.jsxs)("span",{className:q.a.listItemText,children:[" ",e.league.name]})]}),Object(_.jsx)(ie,{to:"/leagues/".concat(e.league.id,"?page=1"),text:"Go To Teams"}),Object(_.jsx)(ie,{to:"/calendar/league/".concat(e.league.id,"?page=1"),text:"Go To Calendar"})]})},le=function(e){var t,a=h(),c=a.get("search"),s=Object(m.c)((t=a.get("page"),function(e){return ae(e.list.leaguesSearchResult,t,20)})),i=Object(m.c)((function(e){return e.list.numOfLeagues})),r=Object(m.b)(),l=s.map((function(e){return Object(_.jsx)(re,{league:e},e.id)}));return Object(n.useEffect)((function(){r(ee())}),[]),Object(n.useEffect)((function(){r(z(c))}),[c,e.isFetching]),e.isFetching?null:Object(_.jsxs)("div",{children:[Object(_.jsx)(N,{numOfItems:i,itemsOnPage:20}),Object(_.jsx)("div",{children:l})]})},me=a(24),ue=a.n(me),oe=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(i.g)();return Object(_.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;c?t.append("search",c):t.delete("search"),t.append("page",1),r.push({search:t.toString()}),e.preventDefault(),s("")},children:[Object(_.jsx)("span",{children:Object(_.jsx)("input",{disabled:e.disabled,className:ue.a.searchInput,type:"text",value:c,onChange:function(e){s(e.target.value)}})}),Object(_.jsx)("span",{children:Object(_.jsx)("button",{disabled:e.disabled,className:ue.a.searchButton,type:"submit",children:Object(_.jsx)("img",{src:E})})})]})},je=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:q.a.clubImg,children:Object(_.jsx)("img",{src:e.team.crestUrl})}),Object(_.jsx)("span",{className:q.a.listItemText,children:e.team.name})]}),Object(_.jsx)("div",{children:Object(_.jsx)(ie,{to:"/calendar/team/".concat(e.team.id,"?page=1"),text:"Go To Calendar"})})]})},he=function(e){var t,a=h(),c=a.get("search"),s=Object(i.i)().leagueId,r=Object(m.c)((t=a.get("page"),function(e){return ae(e.list.teamsSearchResult,t,20)})),l=Object(m.c)((function(e){return e.list.numOfTeams})),u=Object(m.b)(),o=r.map((function(e){return Object(_.jsx)(je,{team:e},e.id)}));return Object(n.useEffect)((function(){u(te(s))}),[]),Object(n.useEffect)((function(){u(V(c))}),[c,e.isFetching]),e.isFetching?null:Object(_.jsxs)("div",{children:[Object(_.jsx)(N,{numOfItems:l,itemsOnPage:20}),Object(_.jsx)("div",{children:o})]})},de=function(){var e=Object(m.c)((function(e){return e.list.isFetching})),t=Object(m.c)((function(e){return e.list.fetchingError}));return Object(_.jsxs)("div",{className:q.a.content,children:[Object(_.jsx)(oe,{disabled:e}),t?Object(_.jsx)(v,{message:"Unable to load data"}):Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{path:"/leagues/:leagueId",children:Object(_.jsx)(he,{isFetching:e})}),Object(_.jsx)(i.b,{path:"/leagues",children:Object(_.jsx)(le,{isFetching:e})})]})]})};var be=function(){return Object(_.jsxs)("div",{className:l.a.appWrapper,children:[Object(_.jsx)(A,{}),Object(_.jsx)("div",{className:l.a.content,children:Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{path:"/home",children:Object(_.jsx)(K,{})}),Object(_.jsx)(i.b,{path:"/leagues",children:Object(_.jsx)(de,{})}),Object(_.jsx)(i.b,{path:"/calendar/team/:teamId",children:Object(_.jsx)(M,{})}),Object(_.jsx)(i.b,{path:"/calendar/league/:leagueId",children:Object(_.jsx)(M,{})}),Object(_.jsx)(i.b,{path:"/",children:Object(_.jsx)(i.a,{to:"/home"})})]})})]})},Oe=Object(d.a)({reducer:{list:ne,calendar:f}});s.a.render(Object(_.jsx)(y.a,{children:Object(_.jsx)(m.a,{store:Oe,children:Object(_.jsx)(be,{})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={text:"CalendarItem_text__13xHd",item:"CalendarItem_item__1BulT",scores:"CalendarItem_scores__3iKA1",mainScore:"CalendarItem_mainScore__3wL0H"}},9:function(e,t,a){e.exports={content:"ListPage_content__9dl5Q",clubImg:"ListPage_clubImg__3Y4KU",smallCountryFlag:"ListPage_smallCountryFlag__1q914",listItemText:"ListPage_listItemText__3y1jO"}}},[[67,1,2]]]);
//# sourceMappingURL=main.da0bd861.chunk.js.map