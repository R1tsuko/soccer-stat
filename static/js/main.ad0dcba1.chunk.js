(this["webpackJsonpsoccer-stat"]=this["webpackJsonpsoccer-stat"]||[]).push([[0],{13:function(e,t,a){e.exports={dateInput:"DateFilterInput_dateInput__2Aqpw",searchButton:"DateFilterInput_searchButton__1vvAh",label:"DateFilterInput_label__Kj7Ea"}},17:function(e,t,a){e.exports={header:"Header_header__1CXdc",navlink:"Header_navlink__3ecwl"}},20:function(e,t,a){e.exports={appWrapper:"App_appWrapper__3hNN-",content:"App_content__2P9vh"}},23:function(e,t,a){e.exports={textContainer:"HomePage_textContainer__33fPg",pagesList:"HomePage_pagesList__1w6Yt"}},24:function(e,t,a){e.exports={searchInput:"SearchForm_searchInput__1_j5H",searchButton:"SearchForm_searchButton__1mOKM"}},35:function(e,t,a){e.exports={errorText:"ErrorPage_errorText__2l6o6"}},36:function(e,t,a){e.exports={pageLink:"Pages_pageLink__2HNlL",active:"Pages_active__1dW8t"}},37:function(e,t,a){e.exports={link:"LinkButton_link__Ri19x"}},42:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(15),s=a.n(c),i=(a(42),a(2)),r=a(20),l=a.n(r),u=a(3),m=a(10),o=a(34),j=a.n(o).a.create({baseURL:"https://api.football-data.org/v2/",headers:{"X-Auth-Token":"0f1b50892a8549beb5d3320a2987951e"}}),h=function(){return new URLSearchParams(Object(i.h)().search)},d=a(12),b=Object(d.b)({name:"calendar",initialState:{matchesData:[],numOfMatches:null,isFetching:!1},reducers:{setIsFetching:function(e,t){e.isFetching=t.payload},setMatchesData:function(e,t){e.matchesData=t.payload,e.numOfMatches=t.payload.length}}}),O=b.actions,x=O.setMatchesData,p=O.setIsFetching,f=b.reducer,g=a(35),T=a.n(g),v=a(0),_=function(e){return Object(v.jsx)("div",{className:T.a.errorText,children:e.message})},y=a(4),I=a(36),w=a.n(I),F=function(e){for(var t=h(),a=Object(i.h)(),n=[],c=1;c<=Math.ceil(e.numOfItems/e.itemsOnPage);++c)t.set("page",c),n.push(Object(v.jsx)("span",{className:w.a.pageLink,children:Object(v.jsxs)(y.c,{to:a.pathname+"?"+t.toString(),children:[c," "]})}));return Object(v.jsx)("div",{children:n})},N=function(e){var t,a=Object(n.useState)(!1),c=Object(m.a)(a,2),s=c[0],i=c[1],r=h(),l=Object(u.c)((t=r.get("page"),function(e){return(e=e.calendar).matchesData.filter((function(e,a){return a>=20*(t-1)&&a<20*t}))})),o=r.get("dateFrom"),d=r.get("dateTo"),b=Object(u.b)(),O=Object(u.c)((function(e){return e.calendar.numOfMatches}));Object(n.useEffect)((function(){b(p(!0)),function(e,t,a){return j.get(e,{params:{dateFrom:t,dateTo:a}}).then((function(e){return e.data}))}(e.url,o,d).then((function(e){b(x(e.matches)),i(!1)}),(function(e){i(!0)})).finally((function(){b(p(!1))}))}),[o,d]);var f=l.map((function(t){return Object(v.jsx)(e.item,{match:t},t.id)}));return e.isFetching?null:s?Object(v.jsx)(_,{message:"Unable to load data"}):Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{numOfItems:O,itemsOnPage:20}),Object(v.jsx)("div",{children:f})]})},S=a(9),D=a.n(S),L=function(e){var t=e.match.score;return Object(v.jsxs)("div",{className:D.a.item,children:[Object(v.jsxs)("div",{children:[e.match.homeTeam.name," ",Object(v.jsxs)("span",{className:D.a.mainScore,children:[t.fullTime.homeTeam+t.extraTime.homeTeam,":",t.fullTime.awayTeam+t.extraTime.awayTeam]})," ",e.match.awayTeam.name]}),Object(v.jsxs)("div",{children:["start: ",e.match.utcDate]}),Object(v.jsxs)("div",{className:D.a.scores,children:[Object(v.jsxs)("span",{children:[null===t.halfTime.homeTeam?"-":t.halfTime.homeTeam,":",null===t.halfTime.awayTeam?"-":t.halfTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===t.fullTime.homeTeam?"-":t.fullTime.homeTeam,":",null===t.fullTime.awayTeam?"-":t.fullTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===t.extraTime.homeTeam?"-":t.extraTime.homeTeam,":",null===t.extraTime.awayTeam?"-":t.extraTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===t.penalties.homeTeam?"-":t.penalties.homeTeam,":",null===t.penalties.awayTeam?"-":t.penalties.awayTeam]})]})]})},C=function(e){var t,a,n=e.match.score;return Object(v.jsxs)("div",{className:D.a.item,children:[Object(v.jsxs)("div",{children:[e.match.homeTeam.name," ",Object(v.jsxs)("span",{className:D.a.mainScore,children:[n.fullTime.homeTeam+n.extraTime.homeTeam,":",n.fullTime.awayTeam+n.extraTime.awayTeam]})," ",e.match.awayTeam.name]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:null===(t=e.match.competition)||void 0===t?void 0:t.area.ensignUrl}),null===(a=e.match.competition)||void 0===a?void 0:a.name]}),Object(v.jsxs)("div",{children:["start: ",e.match.utcDate]}),Object(v.jsxs)("div",{className:D.a.scores,children:[Object(v.jsxs)("span",{children:[null===e.match.score.halfTime.homeTeam?"-":e.match.score.halfTime.homeTeam,":",null===e.match.score.halfTime.awayTeam?"-":e.match.score.halfTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===e.match.score.fullTime.homeTeam?"-":e.match.score.fullTime.homeTeam,":",null===e.match.score.fullTime.awayTeam?"-":e.match.score.fullTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===e.match.score.extraTime.homeTeam?"-":e.match.score.extraTime.homeTeam,":",null===e.match.score.extraTime.awayTeam?"-":e.match.score.extraTime.awayTeam]}),"  ",Object(v.jsxs)("span",{children:[null===e.match.score.penalties.homeTeam?"-":e.match.score.penalties.homeTeam,":",null===e.match.score.penalties.awayTeam?"-":e.match.score.penalties.awayTeam]})]})]})},P=a(13),R=a.n(P),E=a.p+"static/media/searchIcon.a1622a47.png",k=function(e){return/^\d{0,4}$|^\d{4}-\d{0,2}$|^\d{4}-\d{2}-\d{0,2}$/.test(e)},M=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),l=Object(m.a)(r,2),u=l[0],o=l[1],j=Object(i.g)();return Object(v.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;c?t.append("dateFrom",c):t.delete("dateFrom"),u?t.append("dateTo",u):t.delete("dateTo"),t.append("page",1),j.push({search:t.toString()}),e.preventDefault()},children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("label",{className:R.a.label,children:"from"}),Object(v.jsx)("input",{type:"text",value:c,onChange:function(e){k(e.target.value)&&s(e.target.value)},placeholder:"YYYY-MM-DD",disabled:e.disabled,className:R.a.dateInput})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("label",{className:R.a.label,children:"to"}),Object(v.jsx)("input",{type:"text",value:u,onChange:function(e){k(e.target.value)&&o(e.target.value)},placeholder:"YYYY-MM-DD",disabled:e.disabled,className:R.a.dateInput})]}),Object(v.jsx)("span",{children:Object(v.jsx)("button",{type:"submit",disabled:e.disabled,className:R.a.searchButton,children:Object(v.jsx)("img",{src:E})})})]})},U=function(){var e=Object(u.c)((function(e){return e.calendar.isFetching})),t=Object(i.i)(),a=t.teamId,n=t.leagueId;return Object(v.jsxs)("div",{children:[Object(v.jsx)(M,{disabled:e}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{path:"/calendar/team",children:Object(v.jsx)(N,{url:"teams/".concat(a,"/matches"),isFetching:e,item:C})}),Object(v.jsx)(i.b,{path:"/calendar/league",children:Object(v.jsx)(N,{url:"competitions/".concat(n,"/matches"),isFetching:e,item:L})})]})]})},Y=a(17),A=a.n(Y),B=function(){return Object(v.jsxs)("header",{className:A.a.header,children:[Object(v.jsx)(y.b,{className:A.a.navlink,to:"/home",children:"home"}),Object(v.jsx)(y.b,{className:A.a.navlink,to:"/leagues?page=1",children:"leagues"})]})},H=a(23),K=a.n(H),W=function(){return Object(v.jsxs)("div",{className:K.a.textContainer,children:[Object(v.jsx)("h2",{children:"This app uses free API: football-data.org"}),Object(v.jsxs)("div",{className:K.a.pagesList,children:[Object(v.jsx)("h3",{children:"Available pages:"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:"list of leagues"}),Object(v.jsx)("li",{children:"list of league`s teams"}),Object(v.jsx)("li",{children:"league`s calendar"}),Object(v.jsx)("li",{children:"team`s calendar"})]})]}),Object(v.jsx)("h3",{children:"Available server requests 10 per minute, so if you see load error, wait 1 minute"})]})},q=a(8),G=a.n(q),$=Object(d.b)({name:"list",initialState:{leaguesData:[],teamsData:[],leaguesSearchResult:[],teamsSearchResult:[],numOfLeagues:null,numOfTeams:null,isFetching:!1,fetchingError:!1},reducers:{setFetchingError:function(e,t){e.fetchingError=t.payload},setIsFetching:function(e,t){e.isFetching=t.payload},setLeaguesData:function(e,t){e.leaguesData=t.payload},setTeamsData:function(e,t){e.teamsData=t.payload},setLeaguesSearchResult:function(e,t){e.leaguesSearchResult=t.payload?e.leaguesData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.leaguesData,e.numOfLeagues=e.leaguesSearchResult.length},setTeamsSearchResult:function(e,t){e.teamsSearchResult=t.payload?e.teamsData.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})):e.teamsData,e.numOfTeams=e.teamsSearchResult.length}}}),J=$.actions,X=J.setLeaguesData,Q=J.setTeamsData,z=J.setLeaguesSearchResult,V=J.setTeamsSearchResult,Z=J.setIsFetching,ee=J.setFetchingError,te=function(){return function(e,t){e(Z(!0)),j.get("competitions",{params:{plan:"TIER_ONE"}}).then((function(e){return e.data})).then((function(t){e(X(t.competitions)),e(ee(!1))}),(function(t){e(ee(!0))})).finally((function(){e(Z(!1))}))}},ae=function(e){return function(t,a){t(Z(!0)),function(e){return j.get("competitions/".concat(e,"/teams")).then((function(e){return e.data}))}(e).then((function(e){t(Q(e.teams)),t(ee(!1))}),(function(e){t(ee(!0))})).finally((function(){return t(Z(!1))}))}},ne=function(e,t,a){return e.filter((function(e,n){return n>=(t-1)*a&&n<t*a}))},ce=$.reducer,se=a(37),ie=a.n(se),re=function(e){return Object(v.jsx)("span",{className:ie.a.link,children:Object(v.jsx)(y.b,{to:e.to,children:e.text})})},le=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:G.a.smallCountryFlag,children:Object(v.jsx)("img",{src:e.league.area.ensignUrl})}),Object(v.jsxs)("span",{className:G.a.listItemText,children:[e.league.area.name," |"]}),Object(v.jsxs)("span",{className:G.a.listItemText,children:[" ",e.league.name]})]}),Object(v.jsx)(re,{to:"/leagues/".concat(e.league.id,"?page=1"),text:"Go To Teams"}),Object(v.jsx)(re,{to:"/calendar/league/".concat(e.league.id,"?page=1"),text:"Go To Calendar"})]})},ue=function(e){var t,a=h(),c=a.get("search"),s=Object(u.c)((t=a.get("page"),function(e){return ne(e.list.leaguesSearchResult,t,20)})),i=Object(u.c)((function(e){return e.list.numOfLeagues})),r=Object(u.b)(),l=s.map((function(e){return Object(v.jsx)(le,{league:e},e.id)}));return Object(n.useEffect)((function(){r(te())}),[]),Object(n.useEffect)((function(){r(z(c))}),[c,e.isFetching]),e.isFetching?null:Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{numOfItems:i,itemsOnPage:20}),Object(v.jsx)("div",{children:l})]})},me=a(24),oe=a.n(me),je=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],s=a[1],r=Object(i.g)();return Object(v.jsxs)("form",{onSubmit:function(e){var t=new URLSearchParams;c?t.append("search",c):t.delete("search"),t.append("page",1),r.push({search:t.toString()}),e.preventDefault(),s("")},children:[Object(v.jsx)("span",{children:Object(v.jsx)("input",{disabled:e.disabled,className:oe.a.searchInput,type:"text",value:c,onChange:function(e){s(e.target.value)}})}),Object(v.jsx)("span",{children:Object(v.jsx)("button",{disabled:e.disabled,className:oe.a.searchButton,type:"submit",children:Object(v.jsx)("img",{src:E})})})]})},he=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:G.a.clubImg,children:Object(v.jsx)("img",{src:e.team.crestUrl})}),Object(v.jsx)("span",{className:G.a.listItemText,children:e.team.name})]}),Object(v.jsx)("div",{children:Object(v.jsx)(re,{to:"/calendar/team/".concat(e.team.id,"?page=1"),text:"Go To Calendar"})})]})},de=function(e){var t,a=h(),c=a.get("search"),s=Object(i.i)().leagueId,r=Object(u.c)((t=a.get("page"),function(e){return ne(e.list.teamsSearchResult,t,20)})),l=Object(u.c)((function(e){return e.list.numOfTeams})),m=Object(u.b)(),o=r.map((function(e){return Object(v.jsx)(he,{team:e},e.id)}));return Object(n.useEffect)((function(){m(ae(s))}),[]),Object(n.useEffect)((function(){m(V(c))}),[c,e.isFetching]),e.isFetching?null:Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{numOfItems:l,itemsOnPage:20}),Object(v.jsx)("div",{children:o})]})},be=function(){var e=Object(u.c)((function(e){return e.list.isFetching})),t=Object(u.c)((function(e){return e.list.fetchingError}));return Object(v.jsxs)("div",{className:G.a.content,children:[Object(v.jsx)(je,{disabled:e}),t?Object(v.jsx)(_,{message:"Unable to load data"}):Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{path:"/leagues/:leagueId",children:Object(v.jsx)(de,{isFetching:e})}),Object(v.jsx)(i.b,{path:"/leagues",children:Object(v.jsx)(ue,{isFetching:e})})]})]})};var Oe=function(){return Object(v.jsxs)("div",{className:l.a.appWrapper,children:[Object(v.jsx)(B,{}),Object(v.jsx)("div",{className:l.a.content,children:Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{path:"/home",children:Object(v.jsx)(W,{})}),Object(v.jsx)(i.b,{path:"/leagues",children:Object(v.jsx)(be,{})}),Object(v.jsx)(i.b,{path:"/calendar/team/:teamId",children:Object(v.jsx)(U,{})}),Object(v.jsx)(i.b,{path:"/calendar/league/:leagueId",children:Object(v.jsx)(U,{})}),Object(v.jsx)(i.b,{path:"/",children:Object(v.jsx)(i.a,{to:"/home"})})]})})]})},xe=Object(d.a)({reducer:{list:ce,calendar:f}});s.a.render(Object(v.jsx)(y.a,{children:Object(v.jsx)(u.a,{store:xe,children:Object(v.jsx)(Oe,{})})}),document.getElementById("root"))},8:function(e,t,a){e.exports={content:"ListPage_content__9dl5Q",clubImg:"ListPage_clubImg__3Y4KU",smallCountryFlag:"ListPage_smallCountryFlag__1q914",listItemText:"ListPage_listItemText__3y1jO"}},9:function(e,t,a){e.exports={item:"CalendarItem_item__1BulT",scores:"CalendarItem_scores__3iKA1",mainScore:"CalendarItem_mainScore__3wL0H"}}},[[67,1,2]]]);
//# sourceMappingURL=main.ad0dcba1.chunk.js.map